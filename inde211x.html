<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trucking Automation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="main">
        <div class="user-input">
            <div class="button-container">
                <button class="toggle-automation" onclick="toggleAutomation()">
                    <span id="automationStatus">Start Automation</span>
                </button>
            </div>
            
            <div class="collapsible">
                <!-- Automation Settings -->
                <div class="submenu">
                    <div class="submenu-header" onclick="toggleSubmenu(this)">
                        Automation Settings <span class="submenu-toggle">▼</span>
                    </div>
                    <div class="submenu-content">
                        <label for="autoDump">
                            <input type="checkbox" id="autoDump" checked>
                            Auto Dump Cargo
                        </label>
                        <label for="autoTake">
                            <input type="checkbox" id="autoTake">
                            Auto Take to Trunk
                        </label>
                        <label for="autoCloseMenu">
                            <input type="checkbox" id="autoCloseMenu" checked>
                            Auto Close Menu
                        </label>
                        <label for="interactionDelay">
                            Interaction Delay (ms):
                            <input type="number" id="interactionDelay" value="500" min="100" max="2000" step="100">
                        </label>
                        <label for="loopDelay">
                            Loop Delay (ms):
                            <input type="number" id="loopDelay" value="2000" min="500" max="10000" step="500">
                        </label>
                    </div>
                </div>

                <!-- Coordinates -->
                <div class="submenu">
                    <div class="submenu-header" onclick="toggleSubmenu(this)">
                        Coordinates <span class="submenu-toggle">▼</span>
                    </div>
                    <div class="submenu-content">
                        <label>
                            Storage X:
                            <input type="number" id="storageX" step="0.1" placeholder="Auto">
                        </label>
                        <label>
                            Storage Y:
                            <input type="number" id="storageY" step="0.1" placeholder="Auto">
                        </label>
                        <label>
                            Storage Z:
                            <input type="number" id="storageZ" step="0.1" placeholder="Auto">
                        </label>
                        <label>
                            Quarry X:
                            <input type="number" id="quarryX" step="0.1" placeholder="Auto">
                        </label>
                        <label>
                            Quarry Y:
                            <input type="number" id="quarryY" step="0.1" placeholder="Auto">
                        </label>
                        <label>
                            Quarry Z:
                            <input type="number" id="quarryZ" step="0.1" placeholder="Auto">
                        </label>
                        <button onclick="saveCoords()" style="grid-column: span 2; margin-top: 5px;">Save Coordinates</button>
                        <button onclick="getCurrentLocation('storage')" style="grid-column: span 2;">Capture Current Location (Storage)</button>
                        <button onclick="getCurrentLocation('quarry')" style="grid-column: span 2;">Capture Current Location (Quarry)</button>
                        <div style="grid-column: span 2; margin-top: 10px; font-size: 11px; color: #888;">
                            <div>Current Position: <span id="currentPos">Waiting for data...</span></div>
                        </div>
                        <div id="coordsInfo" style="grid-column: span 2; margin-top: 10px; font-size: 11px; color: #aaa;">
                            Storage: Not set<br>
                            Quarry: Not set
                        </div>
                    </div>
                </div>

                <!-- Status -->
                <div class="submenu">
                    <div class="submenu-header" onclick="toggleSubmenu(this)">
                        Status <span class="submenu-toggle">▼</span>
                    </div>
                    <div class="submenu-content">
                        <div id="statusInfo">
                            <div>Menu Open: <span id="menuStatus">No</span></div>
                            <div>Last Action: <span id="lastAction">None</span></div>
                            <div>Executing: <span id="executingStatus">No</span></div>
                        </div>
                    </div>
                </div>

                <!-- Log -->
                <div class="submenu">
                    <div class="submenu-header" onclick="toggleSubmenu(this)">
                        Activity Log <span class="submenu-toggle">▼</span>
                    </div>
                    <div class="submenu-content">
                        <div id="logContent" class="log-content"></div>
                        <button onclick="clearLog()" class="clear-log-btn">Clear Log</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="index.js"></script>
</body>
</html>
